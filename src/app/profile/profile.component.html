<div class="container">
    <div class="row gutters-sm">

        <div class="col-md-4 d-none d-md-block">
            <div class="card">
                <div class="card-body">
                    <nav class="nav flex-column nav-pills nav-gap-y-1">
                        <a href="#profile" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded active">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user mr-2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>Profile Information
                        </a>
                        <a href="#address" (click)="getAddressByUsername()" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                            <svg svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-location mr-2">
                                <path
                                    d="M10,1.375c-3.17,0-5.75,2.548-5.75,5.682c0,6.685,5.259,11.276,5.483,11.469c0.152,0.132,0.382,0.132,0.534,0c0.224-0.193,5.481-4.784,5.483-11.469C15.75,3.923,13.171,1.375,10,1.375 M10,17.653c-1.064-1.024-4.929-5.127-4.929-10.596c0-2.68,2.212-4.861,4.929-4.861s4.929,2.181,4.929,4.861C14.927,12.518,11.063,16.627,10,17.653 M10,3.839c-1.815,0-3.286,1.47-3.286,3.286s1.47,3.286,3.286,3.286s3.286-1.47,3.286-3.286S11.815,3.839,10,3.839 M10,9.589c-1.359,0-2.464-1.105-2.464-2.464S8.641,4.661,10,4.661s2.464,1.105,2.464,2.464S11.359,9.589,10,9.589">
                                </path>
                            </svg>Address
                        </a>
                        <a href="#security" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shield mr-2">
                                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                            </svg>Security
                        </a>
                        <a href="#notification" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-map mr-2">
                                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                            </svg>Notification
                        </a>
                        <a href="#billing" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-credit-card mr-2">
                                <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                <line x1="1" y1="10" x2="23" y2="10"></line>
                            </svg>Billing
                        </a>
                    </nav>
                </div>
            </div>
        </div>
        <div class="col-md-8">
            <div class="card">
                <div class="card-header border-bottom mb-3 d-flex d-md-none">

                    <ul class="nav nav-tabs card-header-tabs nav-gap-x-1" role="tablist">
                        <li class="nav-item">
                            <a href="#profile" data-toggle="tab" class="nav-link has-icon active"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-user">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg></a>
                        </li>
                        <li class="nav-item">
                            <a href="#address" data-toggle="tab" class="nav-item nav-link has-icon nav-link-faded">
                                <svg svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-location mr-2">
                                    <path
                                        d="M10,1.375c-3.17,0-5.75,2.548-5.75,5.682c0,6.685,5.259,11.276,5.483,11.469c0.152,0.132,0.382,0.132,0.534,0c0.224-0.193,5.481-4.784,5.483-11.469C15.75,3.923,13.171,1.375,10,1.375 M10,17.653c-1.064-1.024-4.929-5.127-4.929-10.596c0-2.68,2.212-4.861,4.929-4.861s4.929,2.181,4.929,4.861C14.927,12.518,11.063,16.627,10,17.653 M10,3.839c-1.815,0-3.286,1.47-3.286,3.286s1.47,3.286,3.286,3.286s3.286-1.47,3.286-3.286S11.815,3.839,10,3.839 M10,9.589c-1.359,0-2.464-1.105-2.464-2.464S8.641,4.661,10,4.661s2.464,1.105,2.464,2.464S11.359,9.589,10,9.589">
                                    </path>
                                </svg>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#security" data-toggle="tab" class="nav-link has-icon"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-shield">
                                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                                </svg></a>
                        </li>
                        <li class="nav-item">
                            <a href="#notification" data-toggle="tab" class="nav-link has-icon"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-bell">
                                    <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                    <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                                </svg></a>
                        </li>
                        <li class="nav-item">
                            <a href="#billing" data-toggle="tab" class="nav-link has-icon"><svg
                                    xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="feather feather-credit-card">
                                    <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                                    <line x1="1" y1="10" x2="23" y2="10"></line>
                                </svg></a>
                        </li>
                    </ul>
                </div>



                <div class="card-body tab-content">
                    <div class="tab-pane active" id="profile">
                        <h6>YOUR PROFILE INFORMATION</h6>
                        <hr>
                        <div class="rela-block profile-card">
                            <img class="profile-pic" id="profile_pic" src="{{dp}}">
                            <div class="rela-block profile-name-container">
                                <div class="rela-block user-name" id="user_name">{{userDetails.name}}</div>
                                <!-- <div *ngIf="userDetails" class="rela-block user-desc" id="user_description">
                                    {{userDetails.employeeData.occupation.occupationName}}</div> -->
                            </div>
                        </div>
                        <form #userForm="ngForm">
                            <div class="form-group">
                                <label for="fullName">Full Name</label>
                                <input type="text" class="form-control" id="fullName" aria-describedby="fullNameHelp" placeholder="Enter your fullname" name="name" [(ngModel)]="userDetails.name">
                                <small id="fullNameHelp" class="form-text text-muted">Your name may appear around here
                                    where you are mentioned. You can change or remove it at any time.</small>
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="text" class="form-control" id="email" aria-describedby="fullNameHelp" placeholder="Enter your email" name="email" [(ngModel)]="userDetails.email">
                            </div>
                            <div class="row">
                                <div class="col form-group">
                                    <label for="phone">Phone</label>
                                    <input type="text" class="form-control" id="phone" aria-describedby="fullNameHelp" placeholder="Enter your phone" name="phone" [(ngModel)]="userDetails.phone">
                                </div>
                                <div class="col form-group">
                                    <label for="location">Location</label>
                                    <input type="text" class="form-control" id="location" placeholder="Enter your location" name="location" [(ngModel)]="userDetails.location.locationName">
                                </div>
                            </div>
                            <!-- <div *ngFor="let item of userDetails.address">
                                <div *ngIf="item.isPrimary">
                                    <div class="row">
                                        <div class="col form-group">
                                            <label for="buildingName">Building Name</label>
                                            <input type="text" class="form-control" id="buildingName" placeholder="Building Name" name="buildingName" [(ngModel)]="item.buildingName">
                                        </div>
                                        <div class="col form-group">
                                            <label for="street">Street</label>
                                            <input type="text" class="form-control" id="street" placeholder="Street" name="street" [(ngModel)]="item.street">
                                        </div>
                                        <div class="col form-group">
                                            <label for="city">City</label>
                                            <input type="text" class="form-control" id="city" placeholder="City" name="city" [(ngModel)]="item.city">
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col form-group">
                                            <label for="postalCode">Postal Code</label>
                                            <input type="text" class="form-control" id="postalCode" placeholder="Postal Code" name="postalCode" [(ngModel)]="item.postalCode">
                                        </div>
                                        <div class="col form-group">
                                            <label for="state">State</label>
                                            <input type="text" class="form-control" id="state" placeholder="State" name="state" [(ngModel)]="item.state">
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                            <div class="form-group small text-muted">
                                By filling all the fields above, you're giving us consent to share this data wherever your user profile appears.
                            </div>
                            <button type="button" class="btn btn-primary">Update Profile</button>
                            <button type="reset" class="btn btn-light">Reset Changes</button>
                        </form>
                    </div>
                    <div class="tab-pane content-holder" id="address">
                        <h6 style="display: inline-block;">ADDRESS SETTINGS</h6>

                        <button type="button" class="btn btn-outline-dark float-right" data-toggle="modal" data-target="#exampleModal" (click)="addAddress()"><i class="fa fa-plus fa-lg float-right"
                                aria-hidden="true"> </i></button>

                        <hr> {{setAddressCount()}}
                        <div *ngFor="let item of address">
                            <p style="display: inline-block;">ADDRESS:{{getAddressCount()+1}}</p>
                            <button type="button" class="btn btn-outline-info float-right" (click)="setSelectedAddress(item)" data-toggle="modal" data-target="#exampleModal">
                                <i class="fa fa-pencil fa-lg" aria-hidden="true"></i></button> &nbsp;&nbsp;
                            <button type="button" class="btn btn-outline-danger float-right" (click)="deleteAddress(item)">
                                <i class="fa fa-trash fa-lg" aria-hidden="true"></i></button>
                            <p>{{item.buildingName}}, {{item.street}}, {{item.city}}, {{item.state}}, {{item.postalCode}}
                            </p>
                            <hr>

                        </div>
                    </div>
                    <div class="tab-pane content-holder" id="security">
                        <h6>SECURITY SETTINGS</h6>
                        <hr>
                        <form (ngSubmit)="updatePassword()" #pwForm=ngForm>
                            <div class="text-right text-danger myerror">{{updatePasswordMessage}}</div>
                            <div class="form-group">
                                <label class="d-block">Change Password</label>
                                <input type="text" class="form-control" placeholder="Enter your old password" name="oldPassword" [(ngModel)]="passwordModel.oldPassword" #opassword="ngModel" [class.is-invalid]="opassword.invalid && opassword.touched" required>

                                <input type="text" class="form-control mt-1" placeholder="New password" name="newPassword" [(ngModel)]="passwordModel.newPassword" #npassword="ngModel" [class.is-invalid]="npassword.invalid && npassword.touched" required>
                                <div *ngIf="npassword.invalid && (npassword.dirty || npassword.touched)">
                                    <small class="text-danger" *ngIf="npassword.errors.required">Password is
                                        Required</small>
                                </div>

                                <input type="text" class="form-control mt-1" placeholder="Confirm new password" name="cnewPassword" (ngModel)="passwordModel.newPassword" [class.is-invalid]="cpassword.invalid && cpassword.touched" #cpassword="ngModel" required>
                                <small class="text-danger" [class.d-none]="(cpassword.value == npassword.value || cpassword.untouched)">Password
                                    don't match</small>

                            </div>
                            <button type="submit" class="btn btn-outline-dark">Submit</button>
                        </form>
                    </div>
                    <div class="tab-pane content-holder" id="notification">
                        <h6>NOTIFICATION SETTINGS</h6>
                        <hr>
                    </div>
                    <div class="tab-pane content-holder" id="billing">
                        <h6>BILLING SETTINGS</h6>
                        <hr>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit Address</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="addForm">
                    <div class="row">
                        <div class="col form-group">
                            <label for="buildingName">Building Name</label>
                            <input type="text" class="form-control" id="buildingName" placeholder="Building Name" formControlName="buildingName">
                        </div>
                        <div class="col form-group">
                            <label for="street">Street</label>
                            <input type="text" class="form-control" id="street" placeholder="Street" formControlName="street">
                        </div>
                        <div class="col form-group">
                            <label for="city">City</label>
                            <input type="text" class="form-control" id="city" placeholder="City" formControlName="city">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col form-group">
                            <label for="postalCode">Postal Code</label>
                            <input type="text" class="form-control" id="postalCode" placeholder="Postal Code" formControlName="postalCode">
                        </div>
                        <div class="col form-group">
                            <label for="state">State</label>
                            <input type="text" class="form-control" id="state" placeholder="State" formControlName="state">
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button (click)="addUpdateAddressById()" data-dismiss="modal" type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>
</div>




<!-- TESTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTTT -->